<Window x:Class="TechKingPOS.App.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings"
        Width="1000"
        Height="650"
        Background="#F4F6F8"
        WindowStartupLocation="CenterScreen">

    <Grid Margin="16">

        <!-- MAIN GRID -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="240"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ================= LEFT MENU ================= -->
        <Border Background="White"
                CornerRadius="8"
                Padding="12"
                Margin="0,0,12,0">

            <StackPanel>

                <TextBlock Text="Settings"
                           FontSize="20"
                           FontWeight="Bold"
                           Margin="8,0,0,16"/>

                <Button Content="Business" Height="42" Margin="0,4"
                        HorizontalContentAlignment="Left"
                        Click="Business_Click"/>

                <Button Content="Receipt &amp; Print" Height="42" Margin="0,4"
                        HorizontalContentAlignment="Left"
                        Click="Receipt_Click"/>

                <Button Content="Sales &amp; Payment" Height="42" Margin="0,4"
                        HorizontalContentAlignment="Left"
                        Click="Sales_Click"/>

                <Button Content="Users &amp; Security" Height="42" Margin="0,4"
                        HorizontalContentAlignment="Left"
                        Click="Users_Click"/>

                <Button Content="System" Height="42" Margin="0,4"
                        HorizontalContentAlignment="Left"
                        Click="System_Click"/>

            </StackPanel>
        </Border>

        <!-- ================= RIGHT CONTENT ================= -->
        <Border Grid.Column="1"
                Background="White"
                CornerRadius="8"
                Padding="20">
            <Grid>
                </Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                     <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                        <Grid>

                    <!-- ================= BUSINESS ================= -->
                            <StackPanel x:Name="BusinessPanel">
                            <TextBlock Text="Business Settings"
                                   FontSize="20"
                                   FontWeight="Bold"
                                   Margin="0,0,0,20"/>

                        <TextBlock Text="Business Name"/>
                        <TextBox x:Name="BusinessNameBox" Height="38" Width="320"/>

                        <TextBlock Text="Branch Name" Margin="0,12,0,2"/>
                        <TextBox x:Name="BranchNameBox" Height="38" Width="320"/>

                        <TextBlock Text="Phone" Margin="0,12,0,2"/>
                        <TextBox x:Name="PhoneBox" Height="38" Width="320"/>

                        <TextBlock Text="Email" Margin="0,12,0,2"/>
                        <TextBox Height="38" Width="320"/>

                        <TextBlock Text="Physical Address" Margin="0,12,0,2"/>
                        <TextBox Height="60" Width="420" AcceptsReturn="True"/>

                        <TextBlock Text="Receipt Footer Message" Margin="0,12,0,2"/>
                        <TextBox x:Name="FooterBox" Height="60" Width="420" AcceptsReturn="True"/>
                    </StackPanel>

                    <!-- ================= RECEIPT ================= -->
                    <StackPanel x:Name="ReceiptPanel" Visibility="Collapsed">
                        <TextBlock Text="Receipt &amp; Print Settings"
                                   FontSize="20"
                                   FontWeight="Bold"
                                   Margin="0,0,0,20"/>

                        <CheckBox Content="Auto-print receipt after sale"/>
                        <CheckBox Content="Show cashier name on receipt" Margin="0,8,0,0"/>
                        <CheckBox Content="Show logo on receipt" Margin="0,8,0,0"/>

                        <TextBlock Text="Paper Size" Margin="0,12,0,2"/>
                        <ComboBox Height="36" Width="200">
                            <ComboBoxItem Content="58mm"/>
                            <ComboBoxItem Content="80mm"/>
                        </ComboBox>

                        <TextBlock Text="Receipt Copies" Margin="0,12,0,2"/>
                        <TextBox Height="36" Width="120"/>
                    </StackPanel>

                    <!-- ================= SALES & PAYMENT ================= -->
                    <StackPanel x:Name="SalesPanel" Visibility="Collapsed">

                        <TextBlock Text="Sales &amp; Payment Settings"
                                   FontSize="20"
                                   FontWeight="Bold"
                                   Margin="0,0,0,20"/>

                        <CheckBox Content="Allow negative stock" Margin="0,12,0,0"/>
                        <CheckBox Content="Allow price editing during sale (Admin)" Margin="0,8,0,0"/>
                        <CheckBox Content="Enable credit sales" Margin="0,8,0,0"/>

                        <!-- VAT -->
                        <CheckBox Content="Enable VAT"/>
                        <TextBlock Text="VAT Percentage" Margin="0,8,0,2"/>
                        <TextBox Height="36" Width="120"/>

                        <Separator Margin="0,16"/>

                        <!-- DISCOUNTS -->
                        <TextBlock Text="Discount Settings"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Margin="0,0,0,10"/>

                        <CheckBox x:Name="EnableDiscountCheck"
                                  Content="Enable Discounts"
                                  FontWeight="Bold"
                                  Margin="0,0,0,10"/>

                        <!-- FIXED -->
                        <CheckBox x:Name="FixedDiscountCheck"
                                  Content="Allow Fixed Amount Discount"/>

                        <StackPanel Margin="20,4,0,10">
                            <TextBlock Text="Maximum Fixed Discount Amount (KES)"/>
                            <TextBox x:Name="MaxFixedDiscountBox" Height="36" Width="140"/>
                        </StackPanel>

                        <!-- PERCENTAGE -->
                        <CheckBox x:Name="PercentageDiscountCheck"
                                  Content="Allow Percentage Discount"/>

                        <StackPanel Margin="20,4,0,10">
                            <TextBlock Text="Maximum Percentage Discount (%)"/>
                            <TextBox x:Name="MaxPercentageDiscountBox" Height="36" Width="120"/>
                        </StackPanel>

                        <Separator Margin="0,16"/>

                        <!-- ================= CONDITIONAL DISCOUNT (ADVANCED) ================= -->
                        <CheckBox x:Name="ConditionalDiscountCheck"
                                  Content="Enable Conditional Discount"
                                  Margin="0,10,0,6"/>

                        <StackPanel Margin="20,0,0,0">

                            <!-- Discount Value Type -->
                            <TextBlock Text="Discount Value Type" FontWeight="Bold"/>

                            <StackPanel Orientation="Horizontal" Margin="0,4,0,10">
                                <RadioButton x:Name="CondValueFixed"
                                             Content="Fixed Amount (KES)"
                                             IsChecked="True"
                                             Margin="0,0,20,0"/>
                                <RadioButton x:Name="CondValuePercent"
                                             Content="Percentage (%)"/>
                            </StackPanel>

                            <!-- Discount Based On -->
                            <TextBlock Text="Discount Based On" FontWeight="Bold"/>

                            <StackPanel Orientation="Horizontal" Margin="0,4,0,10">
                                <RadioButton x:Name="CondBasedAbove"
                                             Content="Above Certain Sales"
                                             Margin="0,0,20,0"/>
                                <RadioButton x:Name="CondBasedRanges"
                                             Content="Sales Ranges"
                                             IsChecked="True"/>
                            </StackPanel>

                            <!-- ABOVE SALES -->
                            <StackPanel x:Name="AboveSalesPanel" Margin="0,4,0,12">
                                <TextBlock Text="Apply discount when subtotal is above (KES)"/>
                                <TextBox x:Name="ConditionalMinSubtotalBox" Height="36" Width="160"/>
                            </StackPanel>
                            <StackPanel Margin="0,6,0,12">
                                <TextBlock Text="Discount Amount to Apply"/>
                                <TextBox x:Name="ConditionalDiscountAmountBox"
                                        Height="36"
                                        Width="160"/>
                            </StackPanel>


                            <!-- RANGE BASED -->
                            <StackPanel x:Name="RangeSalesPanel">

                                <TextBlock Text="Discount Type: Percentage (%)"
                                           FontStyle="Italic"
                                           Margin="0,0,0,6"/>

                                <TextBlock Text="Sales Range Rules"
                                           FontWeight="Bold"
                                           Margin="0,4,0,6"/>

                                <DataGrid Height="200"
                                          AutoGenerateColumns="False"
                                          CanUserAddRows="False"
                                          HeadersVisibility="Column">

                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="From (KES)" Width="*"/>
                                        <DataGridTextColumn Header="To (KES)" Width="*"/>
                                        <DataGridTextColumn Header="Discount (%)" Width="*"/>
                                    </DataGrid.Columns>
                                </DataGrid>

                                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                    <Button Content="+ Add Range"
                                            Width="120"
                                            Height="34"
                                            Margin="0,0,10,0"/>
                                    <Button Content="ðŸ—‘ Remove Selected"
                                            Width="160"
                                            Height="34"/>
                                </StackPanel>

                            </StackPanel>

                        </StackPanel>

                    </StackPanel>

                    <!-- ================= USERS ================= -->
                    <StackPanel x:Name="UsersPanel" Visibility="Collapsed">
                        <TextBlock Text="Users &amp; Security"
                                   FontSize="20"
                                   FontWeight="Bold"
                                   Margin="0,0,0,20"/>

                        <CheckBox Content="Require login on app start"/>
                        <CheckBox Content="Auto logout after inactivity" Margin="0,8,0,0"/>
                        <CheckBox Content="Allow workers to void sales" Margin="0,12,0,0"/>
                        <CheckBox Content="Allow workers to edit prices" Margin="0,8,0,0"/>
                        <CheckBox Content="Allow workers to give discounts" Margin="0,8,0,0"/>
                    </StackPanel>

                    <!-- ================= SYSTEM ================= -->
                    <StackPanel x:Name="SystemPanel" Visibility="Collapsed">
                        <TextBlock Text="System Settings"
                                   FontSize="20"
                                   FontWeight="Bold"
                                   Margin="0,0,0,20"/>

                        <TextBlock Text="License Status"/>
                        <TextBox Height="36" IsReadOnly="True" Width="260"/>

                        <TextBlock Text="License Expiry" Margin="0,12,0,2"/>
                        <TextBox Height="36" IsReadOnly="True" Width="260"/>

                        <Button Content="Activate License"
                                Width="160"
                                Height="38"
                                Margin="0,16,0,0"/>
                    </StackPanel>
                    <Separator Margin="0,12"/>

                    


                </Grid>
            </ScrollViewer>

            <Button Grid.Row="1" Content="ðŸ’¾ Save Changes"
                            Height="44"
                            Background="#1976D2"
                            Foreground="White"
                            FontWeight="Bold"
                            Margin="0,8,0,0"
                            HorizontalAlignment="Right"
                            Click="SaveChanges_Click"/>

        </Grid>

        </Border>
    </Grid>
</Window>
